{% extends "basic.html" %}

{% block title %}Home{% endblock %}

{% block content %}
    <div class="container">
        {% for message in get_flashed_messages() %}
        <div class="alert alert-{{ message.category }}" role="alert">
            <span class="close-btn" onclick="closeAlert(this)">&times;</span>
            {{ message }}
        </div>
        {% endfor %}

        <h1>Welcome to the User System</h1>

        {% if username %}
        <p>Hello, {{ username }}</p>
        <a href="{{ url_for('logout') }}" class="btn">Logout</a>
        {% else %}
        <p>You are not logged in.</p>
        <a href="{{ url_for('login') }}" class="btn">Login</a>
        <a href="{{ url_for('signup') }}" class="btn btn-secondary">Sign Up</a>
        {% endif %}
    </div>
    <div class="test">
    </div>
    <script>
        function closeAlert(closeButton) {
            // Find the parent alert element
            var alert = closeButton.parentElement;

            // Add a class to apply the fade-out animation
            alert.classList.add('fade-out');

            // Remove the alert from the DOM after the animation
            setTimeout(function () {
                alert.style.display = 'none';
            }, 500); // Adjust the time to match your CSS transition duration
        }
    </script>
{% endblock %}